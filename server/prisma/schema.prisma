generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

enum ProductEnum {
  Single
  Double
}

enum ColorEnum {
  Black
}
enum HeightEnum {
  H82
  H96
}
enum WidthEnum {
  W56
  W74
}
enum LengthEnum {
  L5
  L7
}

model ProductDetails {
  id            Int          @id @default(autoincrement())
  createdAt     DateTime?    @default(now())
  updatedAt     DateTime?    @updatedAt

  type          ProductEnum
  color         ColorEnum
  height        HeightEnum
  width         WidthEnum
  length        LengthEnum
  price         Int
  quantity      Int

  images        String[]
  orders        ProductOrder[]   
  

}

model ProductOrder {
  id            Int          @id @default(autoincrement())
  productId     Int
  orderNo       Int
  orderDate     DateTime 
  section       Int
  row           Int
  product       ProductDetails      @relation(fields: [productId], references: [id])
  customerOrder CustomerOrderDetails @relation(fields: [orderNo], references: [id])
  
}
enum StatusEnum {
  CREATEORDER
  ORDERPLACED
  ORDERSHIPPED
  ORDERRECEIVED
  ORDERDELIVERED
}
model CustomerOrderDetails {
  id            Int          @id @default(autoincrement())
  createdAt     DateTime?    @default(now())
  dateOrdered   DateTime?

  address       String
  name          String
  phone         String
  email         String

  status        StatusEnum @default(CREATEORDER)

  orderSummary  ProductOrder[]

  customerNotes String[]
  customerCopy  String
  measurement   String
  additionalFiles  String?
}

